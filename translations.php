<?php
// Simple i18n helper
if (session_status() === PHP_SESSION_NONE) {
    session_start();
}

// Detect language via query param, then session, then default to en
if (isset($_GET['lang'])) {
    $lang = $_GET['lang'] === 'zh' ? 'zh' : 'en';
    $_SESSION['lang'] = $lang;
} else {
    $lang = isset($_SESSION['lang']) ? $_SESSION['lang'] : 'en';
}

// Translation dictionary
$TRANSLATIONS = [
    'en' => [
        'brand_name' => 'MLX',
        'nav_home' => 'Home',
        'nav_about' => 'About',
        'nav_services' => 'Services',
        'nav_contact' => 'Contact',
        'nav_blog' => 'Blog',
        'nav_add_post' => 'Add Post',
        'nav_vlog' => 'Vlog',
        'nav_resources' => 'Resources',
        'nav_privacy' => 'Privacy Policy',
        'nav_terms' => 'Terms of Service',
        'nav_donate' => 'Donate',
        'nav_softwares' => 'Softwares',
        'footer_quick_links' => 'Quick Links',
        'footer_resources' => 'Resources',
        'footer_contact_info' => 'Contact Info',
        'footer_ad_title' => 'Interested in Advertising?',
        'footer_ad_desc' => 'Promote your business to our targeted audience of industry professionals',
        'footer_ad_cta' => 'ADVERTISE ON MLX WEBSITE',
        'footer_rights' => 'All rights reserved.',
        'footer_about_line' => 'Your trusted partner for textiles, international trade, and IT services consulting.',
        'footer_location' => 'Global Consultancy Services - Currently Located in China',
        'lang_english' => 'English',
        'lang_chinese' => '中文',
        'lang_label' => 'Language',

        // NEW TRANSLATION KEYS ADDED HERE
        'view_in_language' => 'View in:',
        'translation_unavailable' => 'Translation not available',
        'single_prev_post' => 'Previous Post',
        'single_next_post' => 'Next Post',
        'single_related' => 'Related Posts',
        'single_read_more' => 'Read More',
        'blog_filter_language' => 'Language',

        // Index page
        'home_hero_title' => 'Welcome to MLX',
        'home_hero_sub' => 'Your personal consultancy for Textiles, International Trade, and IT Services.',
        'home_cta_get_started' => 'Get Started',
        'home_cta_services' => 'Our Services',
        'about_title' => 'About Us',
        'about_heading' => 'MLX Consultancy',
        'about_p1' => 'MLX is not a registered company and does not have an office or business location. It is a personal website offering consultancy services in textiles, international trade, and IT services.',
        'about_p2' => 'With over 15 years of industry experience, we provide personalized consulting solutions tailored to your specific needs and challenges.',
        'about_p3' => 'Our approach combines deep industry knowledge with practical solutions that deliver measurable results for our clients.',
        'services_title' => 'Our Services',
        'service_textiles' => 'Textiles',
        'service_textiles_desc' => 'Specializing in Apparel Fabrics. Expert consulting services for textile manufacturers, suppliers, and retailers. Market analysis, trend forecasting, and supply chain optimization.',
        'service_trade' => 'International Trade Business',
        'service_trade_desc' => 'Global trade consulting, import/export guidance, market entry strategies, and compliance with international trade regulations. Products sourcing from China and India.',
        'service_inspection' => 'General Inspection Service',
        'service_inspection_desc' => 'Comprehensive quality control and inspection services to ensure product quality meets international standards and specifications.',
        'service_it' => 'IT Consultancy',
        'service_it_desc' => 'IT Consultancy for Websites, Mobile Apps, and Software Development. Comprehensive IT solutions including system integration and digital transformation consulting.',
        'service_sourcing' => 'Products Sourcing',
        'service_sourcing_desc' => 'Efficient products sourcing from China and India. We connect you with reliable suppliers and manufacturers for quality products at competitive prices.',
        'service_get_service' => 'Get Service',
        'stats_years' => 'Years Experience',
        'stats_clients' => 'Clients',
        'stats_projects' => 'Projects',
        'stats_satisfaction' => 'Client Satisfaction',
        'testimonials_title' => 'What Our Clients Say',
        'testi_1_text' => 'MLX Consultancy provided exceptional guidance for our textile export business. Their insights helped us expand into three new international markets.',
        'testi_1_name' => 'Sarah Johnson',
        'testi_1_pos' => 'CEO, Textile Exporters Ltd.',
        'testi_2_text' => 'The IT solutions provided by MLX transformed our business operations. Their team is knowledgeable, professional, and delivers on time.',
        'testi_2_name' => 'Michael Chen',
        'testi_2_pos' => 'CTO, Tech Innovations Inc.',
        'testi_3_text' => "We've been working with MLX for international trade consulting for over 5 years. Their expertise has been invaluable to our growth.",
        'testi_3_name' => 'Elena Rodriguez',
        'testi_3_pos' => 'Director, Global Imports',
        'contact_title' => 'Contact Us',
        'form_subject' => 'New contact form submission',
        'form_label_name' => 'Your Name',
        'form_label_email' => 'Your Email',
        'form_label_subject' => 'Subject',
        'form_label_message' => 'Message',
        'form_btn_send' => 'Send Message',
        'contact_direct' => 'Direct Contact',
        'cta_title' => 'Ready to Transform Your Business?',
        'cta_desc' => 'Contact us today to discuss how our consultancy services can help you achieve your goals.',
        'cta_btn' => 'Get In Touch',
        // Blog page
        'blog_hero_title' => 'MLX BLOG',
        'blog_hero_sub' => 'Insights on textiles, international trade, and IT services',
        'blog_latest' => 'Latest Articles',
        'blog_search_placeholder' => 'Search blog posts...',
        'blog_search' => 'Search',
        'blog_filtering_by' => 'Filtering by:',
        'blog_filter_category' => 'Category:',
        'blog_filter_tag' => 'Tag:',
        'blog_filter_search' => 'Search:',
        'blog_clear_filters' => 'Clear Filters',
        'blog_read_more' => 'Read More',
        'blog_no_results_filter' => 'No blog posts found for the selected filter.',
        'blog_view_all' => 'View all posts',
        'blog_no_results' => 'No blog posts found. Please check back later.',
        'blog_sidebar_about_title' => 'About MLX Blog',
        'blog_sidebar_about_desc' => 'Sharing insights, trends, and expertise in textiles, international trade, and IT services from MLX Consultancy.',
        'blog_sidebar_categories' => 'Categories',
        'blog_no_categories' => 'No categories found',
        'blog_unable_categories' => 'Unable to load categories',
        'blog_sidebar_recent' => 'Recent Posts',
        'blog_no_recent' => 'No recent posts',
        'blog_unable_recent' => 'Unable to load recent posts',
        'blog_sidebar_tags' => 'Tags',
        'blog_no_tags' => 'No tags available',
        'blog_unable_tags' => 'Unable to load tags',
        'blog_show_more_tags' => 'Show More Tags',
        'blog_show_less_tags' => 'Show Less Tags',
        // Single post
        'single_posted_in' => 'Posted in',
        'err_db_unavailable' => 'Unable to connect to the database. Please try again later.',
        'err_general' => 'An error occurred. Please try again later.',
        'err_invalid_id' => 'Invalid post ID.',
        'err_post_not_found' => 'Post not found.',
        // Donate
        'donate_title' => 'Support Our Work',
        'donate_sub' => 'Your donation helps us continue providing quality consultancy services. We appreciate your support!',
        'donate_wechat' => 'WeChat Pay',
        'donate_wechat_scan' => 'Scan the QR code to donate via WeChat',
        'donate_alipay' => 'Alipay',
        'donate_alipay_scan' => 'Scan the QR code to donate via Alipay',
        'donate_paypal' => 'PayPal',
        'donate_paypal_btn' => 'Donate with PayPal',
        'donate_paypal_note' => 'Send money as Gift/Donation via PayPal',
        'donate_other' => 'For other donation methods, please',
        'donate_contact_us' => 'contact us',
        'donate_directly' => 'directly.',
        // Advertise page
        'ad_title' => 'Advertise on MLX Website',
        'ad_sub' => 'Reach a targeted audience of professionals in textiles, international trade, and IT services',
        'ad_cta' => 'Inquire About Advertising',
        'ad_why' => 'Why Advertise With Us?',
        'ad_benefit_audience' => 'Targeted Audience',
        'ad_benefit_audience_desc' => 'Reach professionals and decision-makers in textiles, international trade, and IT industries who regularly visit our website for insights and services.',
        'ad_benefit_engagement' => 'High Engagement',
        'ad_benefit_engagement_desc' => 'Our audience actively engages with our content, resulting in higher click-through rates and better conversion for your advertising campaigns.',
        'ad_benefit_global' => 'Global Reach',
        'ad_benefit_global_desc' => 'With visitors from around the world, your advertisement will gain international exposure to a diverse, professional audience.',
        'ad_audience' => 'Our Audience',
        'ad_audience_visitors' => 'Monthly Visitors',
        'ad_audience_decision' => 'Decision Makers',
        'ad_audience_pageviews' => 'Monthly Pageviews',
        'ad_audience_return' => 'Return Visitors',
        'ad_options' => 'Advertising Options',
        'ad_banner' => 'Banner Ads',
        'ad_banner_desc' => 'Display your message prominently with our banner advertising options available in various sizes and positions across our website.',
        'ad_banner_sizes' => 'Custom sizes available',
        'ad_sponsored' => 'Sponsored Content',
        'ad_sponsored_desc' => 'Share your expertise with our audience through sponsored articles, product reviews, or guest posts that provide value to our readers.',
        'ad_newsletter' => 'Newsletter Advertising',
        'ad_newsletter_desc' => 'Reach our engaged subscribers through our regular newsletter that features industry news, insights, and updates.',
        'ad_terms' => 'Advertising Terms',
        'ad_basic_terms' => 'Basic Advertising Terms',
        'ad_term_1' => 'All advertisements are subject to approval by MLX',
        'ad_term_2' => 'Advertisements must be relevant to our audience and industry-focused',
        'ad_term_3' => 'We reserve the right to reject any advertisement without explanation',
        'ad_term_4' => 'Advertising fees are based on placement, size, and duration',
        'ad_term_5' => 'Minimum advertising period is 30 days',
        'ad_term_6' => 'Payment is required in advance for all advertising campaigns',
        'ad_term_7' => 'Advertisements must not contain malicious code, pop-unders, or auto-play audio/video',
        'ad_term_8' => 'We do not allow advertisements for adult content, gambling, or illegal services',
        'ad_note' => 'Note:',
        'ad_note_text' => "For detailed pricing information and availability, please contact us using the form below.",
        'ad_contact_title' => 'Contact Us About Advertising',
        'ad_contact_intro' => "Interested in advertising with us? Fill out the form below and we'll get back to you with pricing and availability information.",
        'ad_form_subject' => 'Advertising Inquiry - MLX Website',
        'ad_form_company' => 'Company Name',
        'ad_form_website' => 'Website URL',
        'ad_form_type' => 'Interested Advertising Type',
        'ad_form_select' => 'Select an option',
        'ad_form_type_banner' => 'Banner Advertisement',
        'ad_form_type_sponsored' => 'Sponsored Content',
        'ad_form_type_newsletter' => 'Newsletter Advertising',
        'ad_form_type_other' => 'Other',
        'ad_form_message' => 'Your Message',
        'ad_form_send' => 'Send Inquiry',
        'direct_contact' => 'Direct Contact',
        // Privacy Policy
        'privacy_title' => 'Privacy Policy',
        'privacy_updated' => 'Last Updated: January 1, 2025',
        'privacy_intro' => 'At MLX Consultancy, we value your privacy and are committed to protecting your personal information. This Privacy Policy explains how we collect, use, and safeguard your data when you interact with our website and services.',
        'privacy_info_collect' => 'Information We Collect',
        'privacy_info_list_intro' => 'We may collect the following types of information:',
        'privacy_personal' => 'Personal Information:',
        'privacy_personal_desc' => 'Name, email address, phone number, and other contact details you provide when contacting us or using our services.',
        'privacy_usage' => 'Usage Data:',
        'privacy_usage_desc' => 'Information about how you use our website, including your IP address, browser type, pages visited, and time spent on our site.',
        'privacy_cookies' => 'Cookies:',
        'privacy_cookies_desc' => 'We use cookies to enhance your experience on our website and analyze site traffic.',
        'privacy_use_info' => 'How We Use Your Information',
        'privacy_use_intro' => 'We use your information for the following purposes:',
        'privacy_use_1' => 'To provide and maintain our services',
        'privacy_use_2' => 'To communicate with you about our services, updates, and promotions',
        'privacy_use_3' => 'To improve our website and services based on your feedback',
        'privacy_use_4' => 'To process transactions and donations',
        'privacy_use_5' => 'To comply with legal obligations',
        'privacy_sharing' => 'Data Sharing and Disclosure',
        'privacy_sharing_text' => 'We do not sell, trade, or rent your personal information to third parties. We may share your information with trusted service providers who assist us in operating our website and conducting our business, as long as they agree to keep this information confidential.',
        'privacy_security' => 'Data Security',
        'privacy_security_text' => 'We implement appropriate security measures to protect your personal information from unauthorized access, alteration, disclosure, or destruction. However, no method of transmission over the Internet or electronic storage is 100% secure, and we cannot guarantee absolute security.',
        'privacy_rights' => 'Your Rights',
        'privacy_rights_intro' => 'Depending on your location, you may have the following rights regarding your personal information:',
        'privacy_rights_1' => 'The right to access and receive a copy of your personal data',
        'privacy_rights_2' => 'The right to rectify inaccurate or incomplete personal data',
        'privacy_rights_3' => 'The right to request deletion of your personal data',
        'privacy_rights_4' => 'The right to restrict or object to the processing of your personal data',
        'privacy_rights_5' => 'The right to data portability',
        'privacy_cookies_title' => 'Cookies',
        'privacy_cookies_text' => 'Our website uses cookies to enhance your experience. You can set your browser to refuse all or some browser cookies, or to alert you when websites set or access cookies. If you disable or refuse cookies, please note that some parts of our website may become inaccessible or not function properly.',
        'privacy_links' => 'Third-Party Links',
        'privacy_links_text' => 'Our website may contain links to third-party websites. This Privacy Policy does not apply to those websites, and we encourage you to review the privacy policies of any third-party sites you visit.',
        'privacy_changes' => 'Changes to This Privacy Policy',
        'privacy_changes_text' => 'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last Updated" date. We encourage you to review this Privacy Policy periodically for any changes.',
        'privacy_contact' => 'Contact Us',
        'privacy_contact_text' => 'If you have any questions about this Privacy Policy or our data practices, please contact us at:',
        // Terms of Service
        'terms_title' => 'Terms of Service',
        'terms_updated' => 'Last Updated: January 1, 2025',
        'terms_notice' => 'Important Notice:',
        'terms_notice_text' => 'Please read these Terms of Service carefully before using our consultancy services. By engaging with our services, you acknowledge that you have read, understood, and agree to be bound by these terms.',
        'terms_1' => '1. Service Nature and Limitations',
        'terms_primary_detail' => 'These terms are based on working as a textile agent in China. For other businesses, the terms and conditions are subject to discussion.',
        'terms_1_1' => 'I operate as an independent consultant without staff, office premises, or corporate entity in China or elsewhere.',
        'terms_1_2' => 'All services are provided remotely from my home office without physical business premises.',
        'terms_1_3' => 'I provide consultancy services only and do not act as a supplier, manufacturer, or exporter of goods.',
        'terms_1_4' => 'Services are provided on a consultancy basis as assistance to friends, family, suppliers, and customers.',
        'terms_2' => '2. Communication Policy',
        'terms_2_1' => 'Due to family responsibilities and personal commitments, my availability for communication is limited.',
        'terms_2_2' => "I may not always be able to respond to messages immediately or at all if I don't have relevant information.",
        'terms_2_3' => "Please refrain from sending repetitive messages if I haven't responded.",
        'terms_2_4' => 'Communication should be limited to reasonable hours (9 AM - 6 PM China Standard Time, Monday-Friday).',
        'terms_2_5' => 'International phone call charges must be covered in advance by the client if such communication is requested.',
        'terms_3' => '3. Supplier Relations',
        'terms_3_1' => 'I have no control over suppliers and can only make requests on a friendly basis.',
        'terms_3_2' => 'I cannot guarantee supplier compliance with quality, quantity, or shipment timelines.',
        'terms_3_3' => 'I possess no legal authority or resources to force suppliers to comply with any decisions.',
        'terms_3_4' => 'I will not visit suppliers for meetings or discussions in person.',
        'terms_3_5' => 'All communication with suppliers will be conducted remotely via phone, message, or email.',
        'terms_4' => '4. Payment Terms',
        'terms_4_1' => 'A 30% deposit is required before order processing begins.',
        'terms_4_2' => 'The balance must be paid in full before container loading.',
        'terms_4_3' => "All payments must be made via T/T (Telegraphic Transfer) directly to the supplier's account.",
        'terms_4_4' => 'My commission is fixed at 3% for all orders, regardless of order size.',
        'terms_4_5' => 'The supplier will include my commission in the sales price when providing quotations.',
        'terms_5' => '5. Limitations of Responsibility',
        'terms_5_1' => 'I am not responsible for supplier delays, refusals to ship, or quality issues after payment.',
        'terms_5_2' => 'I cannot return any payments made to suppliers under any circumstances.',
        'terms_5_3' => 'I do not conduct goods detailed or technical quality inspection services. I can provide General Inspection service if customer pay for it additionally.',
        'terms_5_4' => 'I will not spend any personal funds on client projects or orders.',
        'terms_5_5' => 'Sample shipping expenses must be covered by either the client or supplier.',
        'terms_6' => '6. Order Requirements',
        'terms_6_1' => 'Minimum order requirement: 1 full container per supplier per shipment.',
        'terms_6_2' => 'Clients may contact suppliers directly at any time.',
        'terms_6_3' => 'I reserve the right to decline any work request without explanation.',
        'terms_7' => '7. Client Expectations',
        'terms_7_1' => 'Clients should not pressure, insist, or push for work to be done against my stated limitations.',
        'terms_7_2' => 'If unsatisfied with my working speed, style, or methods, clients should simply stop giving me work.',
        'terms_7_3' => 'Clients should avoid sending messages with unnecessary questions.',
        'terms_8' => '8. General Terms',
        'terms_8_1' => 'These terms may be updated periodically without prior notice.',
        'terms_8_2' => 'Continued use of my services constitutes acceptance of any modified terms.',
        'terms_8_3' => 'These terms are governed by the principles of fair consultation and mutual respect.',
        'terms_contact' => 'Contact Us',
        'terms_contact_text' => 'If you have any questions about these Terms of Service, please contact us at:',
        'software_card_title' => 'Softwares',
        'software_weather_app' => 'Weather App',
        'software_name' => 'Name: MLX WeatherPRO',
        'software_description' => 'This is a Weather App for Demo purposes.',
        'software_open_browser' => 'Open in browser',
        'software_downloads' => 'Downloads',
        'software_chrome_extension' => 'Chrome Extension',
        'software_mac' => 'Mac',
        'software_windows' => 'Windows',
        'software_android' => 'Android App',
        'software_ios' => 'iOS App',
        'software_dev_hero_title' => 'Professional Software Development Services',
        'software_dev_hero_sub' => 'Website, Mobile App, and Custom Software Development',
        'software_dev_start_project' => 'Start Your Project',
        'software_dev_services_title' => 'Our Development Services',
        'software_dev_services_desc' => 'We provide comprehensive software development solutions tailored to your business needs',
        'software_dev_website' => 'Website Development',
        'software_dev_website_desc' => 'Custom websites built with HTML, CSS, and JavaScript to create engaging online experiences that represent your brand effectively.',
        'software_dev_mobile' => 'Mobile App Development',
        'software_dev_mobile_desc' => 'Cross-platform mobile applications developed to reach your audience on both iOS and Android devices with seamless performance.',
        'software_dev_backend' => 'Backend Development',
        'software_dev_backend_desc' => 'Robust server-side solutions using PHP and Java to power your applications with secure and scalable architecture.',
        'software_dev_approach_title' => 'Innovative Approach to Development',
        'software_dev_approach_text' => 'At MLX Global, we combine traditional development expertise with cutting-edge AI technology to deliver solutions that exceed expectations.',
        'software_dev_ai_title' => 'AI-Assisted Development',
        'software_dev_ai_text' => 'We leverage artificial intelligence throughout our development process to enhance code quality, optimize performance, and accelerate delivery timelines. Our AI tools help us identify the most efficient solutions for your unique requirements.',
        'software_dev_junior_title' => 'Junior Development Team',
        'software_dev_junior_text' => 'As a junior development team, we bring fresh perspectives, up-to-date knowledge of modern technologies, and enthusiastic dedication to every project. We maintain competitive pricing while delivering quality results through our collaborative approach and AI-enhanced workflows.',
        'software_dev_collaboration' => 'We believe in transparent communication and collaborative development. Every project begins with a detailed discussion to ensure we fully understand your vision and requirements.',
        'software_dev_discuss_project' => 'Discuss Your Project',
        'software_dev_tech_stack' => 'Our Technology Stack',
        'software_dev_tech_desc' => 'We work with modern technologies to build robust and scalable solutions',
        'software_dev_ready_title' => 'Ready to Bring Your Idea to Life?',
        'software_dev_ready_text' => 'We welcome projects of all sizes and complexities. Let\'s discuss how we can help transform your vision into a functional digital solution.',
        'software_development_services_introduction' => 'Software Development Services Introduction'

    ],
    'zh' => [
        'brand_name' => 'MLX',
        'nav_home' => '首页',
        'nav_about' => '关于我们',
        'nav_services' => '服务',
        'nav_contact' => '联系',
        'nav_blog' => '博客',
        'nav_add_post' => '发布文章',
        'nav_vlog' => '视频',
        'nav_resources' => '资源',
        'nav_privacy' => '隐私政策',
        'nav_terms' => '服务条款',
        'nav_donate' => '捐赠',
        'nav_softwares' => '软件',
        'footer_quick_links' => '快速链接',
        'footer_resources' => '资源',
        'footer_contact_info' => '联系信息',
        'footer_ad_title' => '有兴趣投放广告吗？',
        'footer_ad_desc' => '向我们的行业专业受众推广您的业务',
        'footer_ad_cta' => '在 MLX 网站投放广告',
        'footer_rights' => '版权所有。',
        'footer_about_line' => '您值得信赖的纺织、国际贸易与 IT 服务咨询伙伴。',
        'footer_location' => '全球咨询服务 - 目前位于中国',
        'lang_english' => 'English',
        'lang_chinese' => '中文',
        'lang_label' => '语言',

        // NEW TRANSLATION KEYS ADDED HERE
        'view_in_language' => '查看语言：',
        'translation_unavailable' => '翻译不可用',
        'single_prev_post' => '上一篇',
        'single_next_post' => '下一篇',
        'single_related' => '相关文章',
        'single_read_more' => '阅读全文',
        'blog_filter_language' => '语言',

        // Index page
        'home_hero_title' => '欢迎来到 MLX',
        'home_hero_sub' => '为您提供纺织、国际贸易与 IT 服务的个人顾问。',
        'home_cta_get_started' => '立即开始',
        'home_cta_services' => '我们的服务',
        'about_title' => '关于我们',
        'about_heading' => 'MLX 咨询',
        'about_p1' => 'MLX 不是注册公司，也没有办公室或经营场所。这是一个提供纺织、国际贸易和 IT 服务咨询的个人网站。',
        'about_p2' => '拥有 15 年以上行业经验，我们为您量身定制咨询方案，解决您的特定需求和挑战。',
        'about_p3' => '我们以深厚的行业知识为基础，提供切实可行的解决方案，为客户带来可衡量的成果。',
        'services_title' => '我们的服务',
        'service_textiles' => '纺织',
        'service_textiles_desc' => '专注服装面料。为纺织制造商、供应商和零售商提供专家级咨询服务。包含市场分析、趋势预测与供应链优化。',
        'service_trade' => '国际贸易业务',
        'service_trade_desc' => '全球贸易咨询、进出口指导、市场进入策略以及国际贸易法规合规。支持来自中国与印度的产品采购。',
        'service_inspection' => '通用检验服务',
        'service_inspection_desc' => '全面的质量控制与检验服务，确保产品质量符合国际标准与规范。',
        'service_it' => 'IT 咨询',
        'service_it_desc' => '网站、移动应用与软件开发的 IT 咨询。涵盖系统集成与数字化转型的综合解决方案。',
        'service_sourcing' => '产品采购',
        'service_sourcing_desc' => '高效的中国与印度产品采购。为您对接可靠供应商与制造商，获取高性价比产品。',
        'service_get_service' => '获取服务',
        'stats_years' => '年行业经验',
        'stats_clients' => '客户',
        'stats_projects' => '项目',
        'stats_satisfaction' => '客户满意度',
        'testimonials_title' => '客户评价',
        'testi_1_text' => 'MLX 咨询为我们的纺织出口业务提供了卓越指导，帮助我们开拓了三个新的国际市场。',
        'testi_1_name' => 'Sarah Johnson',
        'testi_1_pos' => '首席执行官，Textile Exporters Ltd.',
        'testi_2_text' => 'MLX 提供的 IT 解决方案改变了我们的业务运营。他们的团队专业、高效、准时交付。',
        'testi_2_name' => 'Michael Chen',
        'testi_2_pos' => '首席技术官，Tech Innovations Inc.',
        'testi_3_text' => '我们与 MLX 在国际贸易咨询方面合作超过 5 年，他们的专业知识对我们的增长至关重要。',
        'testi_3_name' => 'Elena Rodriguez',
        'testi_3_pos' => '总监，Global Imports',
        'contact_title' => '联系我们',
        'form_subject' => '新的联系表提交',
        'form_label_name' => '您的姓名',
        'form_label_email' => '您的邮箱',
        'form_label_subject' => '主题',
        'form_label_message' => '留言',
        'form_btn_send' => '发送信息',
        'contact_direct' => '直接联系',
        'cta_title' => '准备好推动您的业务转型了吗？',
        'cta_desc' => '欢迎联系我们，讨论我们的咨询服务如何帮助您实现目标。',
        'cta_btn' => '立即联系',
        // Blog page
        'blog_hero_title' => 'MLX 博客',
        'blog_hero_sub' => '关于纺织、国际贸易与 IT 服务的洞见',
        'blog_latest' => '最新文章',
        'blog_search_placeholder' => '搜索博文…',
        'blog_search' => '搜索',
        'blog_filtering_by' => '筛选条件：',
        'blog_filter_category' => '分类：',
        'blog_filter_tag' => '标签：',
        'blog_filter_search' => '搜索：',
        'blog_clear_filters' => '清除筛选',
        'blog_read_more' => '阅读全文',
        'blog_no_results_filter' => '按当前筛选未找到博文。',
        'blog_view_all' => '查看全部文章',
        'blog_no_results' => '未找到博文，请稍后再来。',
        'blog_sidebar_about_title' => '关于 MLX 博客',
        'blog_sidebar_about_desc' => '分享来自 MLX 咨询在纺织、国际贸易与 IT 服务方面的洞察、趋势与经验。',
        'blog_sidebar_categories' => '分类',
        'blog_no_categories' => '没有找到分类',
        'blog_unable_categories' => '无法加载分类',
        'blog_sidebar_recent' => '最新文章',
        'blog_no_recent' => '没有最新文章',
        'blog_unable_recent' => '无法加载最新文章',
        'blog_sidebar_tags' => '标签',
        'blog_no_tags' => '没有可用标签',
        'blog_unable_tags' => '无法加载标签',
        'blog_show_more_tags' => '显示更多标签',
        'blog_show_less_tags' => '显示较少标签',
        // Single post
        'single_posted_in' => '发表于',
        'err_db_unavailable' => '无法连接到数据库，请稍后重试。',
        'err_general' => '发生错误，请稍后重试。',
        'err_invalid_id' => '无效的文章 ID。',
        'err_post_not_found' => '未找到文章。',
        // Donate
        'donate_title' => '支持我们的工作',
        'donate_sub' => '您的捐赠帮助我们持续提供高质量的咨询服务。感谢您的支持！',
        'donate_wechat' => '微信支付',
        'donate_wechat_scan' => '扫描二维码通过微信捐赠',
        'donate_alipay' => '支付宝',
        'donate_alipay_scan' => '扫描二维码通过支付宝捐赠',
        'donate_paypal' => 'PayPal',
        'donate_paypal_btn' => '通过 PayPal 捐赠',
        'donate_paypal_note' => '通过 PayPal 以礼物/捐赠的方式汇款',
        'donate_other' => '如需其他捐赠方式，请',
        'donate_contact_us' => '联系我们',
        'donate_directly' => '。',
        // Advertise page
        'ad_title' => '在 MLX 网站投放广告',
        'ad_sub' => '触达纺织、国际贸易与 IT 服务领域的专业人士',
        'ad_cta' => '咨询广告投放',
        'ad_why' => '为什么选择我们投放广告？',
        'ad_benefit_audience' => '目标受众',
        'ad_benefit_audience_desc' => '触达纺织、国际贸易与 IT 行业的专业人士与决策者，他们经常访问我们的网站获取洞见与服务。',
        'ad_benefit_engagement' => '高参与度',
        'ad_benefit_engagement_desc' => '我们的受众积极参与内容互动，为您的广告活动带来更高点击率与更佳转化。',
        'ad_benefit_global' => '全球覆盖',
        'ad_benefit_global_desc' => '来自全球的访问者让您的广告获得面向多元专业受众的国际曝光。',
        'ad_audience' => '我们的受众',
        'ad_audience_visitors' => '月访问量',
        'ad_audience_decision' => '决策者占比',
        'ad_audience_pageviews' => '月页面浏览',
        'ad_audience_return' => '回访用户',
        'ad_options' => '广告形式',
        'ad_banner' => '横幅广告',
        'ad_banner_desc' => '通过多种尺寸与位置的横幅广告在网站上突出展示您的信息。',
        'ad_banner_sizes' => '支持自定义尺寸',
        'ad_sponsored' => '赞助内容',
        'ad_sponsored_desc' => '通过赞助文章、产品评测或客座文章与我们的受众分享您的专业见解。',
        'ad_newsletter' => '邮件简报广告',
        'ad_newsletter_desc' => '通过我们的定期简报触达活跃订阅者，涵盖行业新闻、洞见与更新。',
        'ad_terms' => '广告条款',
        'ad_basic_terms' => '基本广告条款',
        'ad_term_1' => '所有广告均需 MLX 审核通过',
        'ad_term_2' => '广告需与我们的受众及行业相关',
        'ad_term_3' => '我们保留无理由拒绝任何广告的权利',
        'ad_term_4' => '广告费用基于位置、尺寸与时长确定',
        'ad_term_5' => '最短投放期为 30 天',
        'ad_term_6' => '所有广告活动均需提前支付',
        'ad_term_7' => '广告不得包含恶意代码、弹出式页面或自动播放音视频',
        'ad_term_8' => '不接受成人内容、赌博或非法服务的广告',
        'ad_note' => '注意：',
        'ad_note_text' => '如需详细价格与档期信息，请通过下方表单联系我们。',
        'ad_contact_title' => '广告投放联系',
        'ad_contact_intro' => '有意与我们合作投放广告？请填写下方表单，我们将尽快回复价格与档期信息。',
        'ad_form_subject' => '广告投放咨询 - MLX 网站',
        'ad_form_company' => '公司名称',
        'ad_form_website' => '网站地址',
        'ad_form_type' => '感兴趣的广告类型',
        'ad_form_select' => '请选择',
        'ad_form_type_banner' => '横幅广告',
        'ad_form_type_sponsored' => '赞助内容',
        'ad_form_type_newsletter' => '邮件简报广告',
        'ad_form_type_other' => '其他',
        'ad_form_message' => '您的留言',
        'ad_form_send' => '发送咨询',
        'direct_contact' => '直接联系',
        // Privacy Policy
        'privacy_title' => '隐私政策',
        'privacy_updated' => '最近更新：2025 年 1 月 1 日',
        'privacy_intro' => '我们重视您的隐私，并致力于保护您的个人信息。本隐私政策解释了当您使用我们的网站与服务时，我们如何收集、使用和保护您的数据。',
        'privacy_info_collect' => '我们收集的信息',
        'privacy_info_list_intro' => '我们可能收集以下类型的信息：',
        'privacy_personal' => '个人信息：',
        'privacy_personal_desc' => '当您联系我们或使用我们的服务时，提供的姓名、邮箱、电话等联系方式。',
        'privacy_usage' => '使用数据：',
        'privacy_usage_desc' => '您如何使用我们网站的信息，包括 IP 地址、浏览器类型、访问页面与停留时间等。',
        'privacy_cookies' => 'Cookies：',
        'privacy_cookies_desc' => '我们使用 Cookies 改善您的体验并分析网站流量。',
        'privacy_use_info' => '我们如何使用您的信息',
        'privacy_use_intro' => '我们将您的信息用于以下目的：',
        'privacy_use_1' => '提供与维护我们的服务',
        'privacy_use_2' => '与您沟通服务、更新与推广信息',
        'privacy_use_3' => '基于您的反馈改进我们的网站与服务',
        'privacy_use_4' => '处理交易与捐赠',
        'privacy_use_5' => '遵守法律义务',
        'privacy_sharing' => '数据共享与披露',
        'privacy_sharing_text' => '我们不会出售、交易或出租您的个人信息。我们可能与受信任的服务提供商共享信息，以协助网站运营和业务开展，且其需承诺保密。',
        'privacy_security' => '数据安全',
        'privacy_security_text' => '我们采取适当安全措施保护您的信息，但任何互联网传输或电子存储方式都不能保证 100% 安全，我们无法提供绝对保证。',
        'privacy_rights' => '您的权利',
        'privacy_rights_intro' => '根据您的所在地区，您可能享有以下关于个人信息的权利：',
        'privacy_rights_1' => '访问并获取个人数据副本的权利',
        'privacy_rights_2' => '更正不准确或不完整个人数据的权利',
        'privacy_rights_3' => '请求删除个人数据的权利',
        'privacy_rights_4' => '限制或反对处理个人数据的权利',
        'privacy_rights_5' => '数据可携权',
        'privacy_cookies_title' => 'Cookies',
        'privacy_cookies_text' => '我们的网站使用 Cookies 改善体验。您可以设置浏览器拒绝全部或部分 Cookies，或在网站设置/访问 Cookies 时提醒您。若禁用 Cookies，网站部分功能可能受影响。',
        'privacy_links' => '第三方链接',
        'privacy_links_text' => '我们的网站可能包含第三方网站链接。本隐私政策不适用于这些网站，建议您阅读其隐私政策。',
        'privacy_changes' => '本隐私政策的变更',
        'privacy_changes_text' => '我们可能不时更新隐私政策，并在本页发布并更新"最近更新"日期。建议您定期查看。',
        'privacy_contact' => '联系我们',
        'privacy_contact_text' => '若您对本隐私政策或数据实践有任何问题，请通过以下方式联系我们：',
        // Terms of Service
        'terms_title' => '服务条款',
        'terms_updated' => '最近更新：2025 年 1 月 1 日',
        'terms_notice' => '重要提示：',
        'terms_notice_text' => '在使用我们的咨询服务前请仔细阅读本条款。使用即表示您已阅读、理解并同意受其约束。',
        'terms_1' => '一、服务性质与限制',
        'terms_primary_detail' => '本条款以我在中国从事纺织品代理业务为基础。对于其他类型业务，具体条款与条件需另行商议。',
        'terms_1_1' => '我作为独立顾问提供服务，不在中国或其他地区设有员工、办公场所或公司实体。',
        'terms_1_2' => '所有服务均在家庭办公室远程提供，无实体营业场所。',
        'terms_1_3' => '我仅提供咨询服务，不作为商品供应商、制造商或出口商。',
        'terms_1_4' => '服务以咨询形式提供，作为对亲友、供应商与客户的协助。',
        'terms_2' => '二、沟通政策',
        'terms_2_1' => '因家庭与个人事务限制，我的沟通可用时间有限。',
        'terms_2_2' => '如无相关信息，我可能无法及时或无法回复消息。',
        'terms_2_3' => '如未回复，请勿重复发送信息。',
        'terms_2_4' => '沟通应限制在合理时间（北京时间 9:00-18:00，周一至周五）。',
        'terms_2_5' => '如需国际电话沟通，相关费用需由客户预先承担。',
        'terms_3' => '三、供应商关系',
        'terms_3_1' => '我无法控制供应商，只能以友好方式提出请求。',
        'terms_3_2' => '我无法保证供应商在质量、数量或发货时间方面的履行。',
        'terms_3_3' => '我不具备强制供应商执行任何决定的法律权力或资源。',
        'terms_3_4' => '我不会亲自拜访供应商进行会议或沟通。',
        'terms_3_5' => '与供应商的沟通将通过电话、消息或电子邮件远程进行。',
        'terms_4' => '四、付款条款',
        'terms_4_1' => '下单前需预付 30% 定金。',
        'terms_4_2' => '装柜前需支付全部尾款。',
        'terms_4_3' => '所有款项须通过电汇 (T/T) 直接支付至供应商账户。',
        'terms_4_4' => '我的佣金固定为 3%，与订单大小无关。',
        'terms_4_5' => '供应商在报价时将包含我的佣金。',
        'terms_5' => '五、责任限制',
        'terms_5_1' => '对供应商延迟、拒发货或付款后出现的质量问题不承担责任。',
        'terms_5_2' => '在任何情况下，我都不能退回已支付给供应商的款项。',
        'terms_5_3' => '我不进行商品的细致或技术质量检验服务。如需可另外付费提供一般检验服务。',
        'terms_5_4' => '我不会为客户项目或订单垫付任何个人资金。',
        'terms_5_5' => '样品运费需由客户或供应商承担。',
        'terms_6' => '六、订单要求',
        'terms_6_1' => '最低订单要求：每个供应商每次发运至少一个整柜。',
        'terms_6_2' => '客户可随时直接联系供应商。',
        'terms_6_3' => '我有权无理由拒绝任何工作请求。',
        'terms_7' => '七、客户期望',
        'terms_7_1' => '客户不应施压、强求或推动开展超过我已声明限制范围的工作。',
        'terms_7_2' => '如对我的工作速度、风格或方式不满意，客户应停止委派工作。',
        'terms_7_3' => '客户应避免发送不必要问题的消息。',
        'terms_8' => '八、一般条款',
        'terms_8_1' => '本条款可能不时更新，恕不另行通知。',
        'terms_8_2' => '继续使用我的服务即视为接受任何修改后的条款。',
        'terms_8_3' => '本条款遵循公平咨询与相互尊重的原则。',
        'terms_contact' => '联系我们',
        'terms_contact_text' => '如对本服务条款有任何问题，请通过以下方式联系我们：',
        'software_card_title' => '软件',
        'software_weather_app' => '天气应用',
        'software_name' => '名称：MLX WeatherPRO',
        'software_description' => '这是一个用于演示的天气应用。',
        'software_open_browser' => '在浏览器中打开',
        'software_downloads' => '下载',
        'software_chrome_extension' => 'Chrome 扩展',
        'software_mac' => 'Mac',
        'software_windows' => 'Windows',
        'software_android' => 'Android 应用',
        'software_ios' => 'iOS 应用',
        'software_dev_hero_title' => '专业软件开发服务',
        'software_dev_hero_sub' => '网站、移动应用和定制软件开发',
        'software_dev_start_project' => '开始您的项目',
        'software_dev_services_title' => '我们的开发服务',
        'software_dev_services_desc' => '我们提供全面的软件开发解决方案，满足您的业务需求',
        'software_dev_website' => '网站开发',
        'software_dev_website_desc' => '使用HTML、CSS和JavaScript构建定制网站，创造引人入胜的在线体验，有效展示您的品牌。',
        'software_dev_mobile' => '移动应用开发',
        'software_dev_mobile_desc' => '开发跨平台移动应用，在iOS和Android设备上无缝触达您的受众。',
        'software_dev_backend' => '后端开发',
        'software_dev_backend_desc' => '使用PHP和Java构建强大的服务器端解决方案，为您的应用提供安全可扩展的架构。',
        'software_dev_approach_title' => '创新的开发方法',
        'software_dev_approach_text' => '在MLX Global，我们将传统开发专业知识和尖端AI技术相结合，提供超越期望的解决方案。',
        'software_dev_ai_title' => 'AI辅助开发',
        'software_dev_ai_text' => '我们在整个开发过程中利用人工智能来提高代码质量、优化性能并加快交付时间。我们的AI工具帮助我们为您的独特需求找到最高效的解决方案。',
        'software_dev_junior_title' => '初级开发团队',
        'software_dev_junior_text' => '作为初级开发团队，我们为每个项目带来新鲜视角、现代技术的最新知识以及热情投入。我们通过协作方法和AI增强的工作流程，在保持竞争力的同时提供高质量成果。',
        'software_dev_collaboration' => '我们相信透明沟通和协作开发。每个项目都从详细讨论开始，确保我们完全理解您的愿景和需求。',
        'software_dev_discuss_project' => '讨论您的项目',
        'software_dev_tech_stack' => '我们的技术栈',
        'software_dev_tech_desc' => '我们使用现代技术构建强大且可扩展的解决方案',
        'software_dev_ready_title' => '准备好将您的想法变为现实了吗？',
        'software_dev_ready_text' => '我们欢迎各种规模和复杂度的项目。让我们讨论如何帮助您将愿景转化为功能性数字解决方案。',
        'software_development_services_introduction' => '软件开发服务介绍'
    ],
];

/**
 * Translate helper
 */
function __t(string $key): string
{
    global $TRANSLATIONS, $lang;
    if (isset($TRANSLATIONS[$lang][$key])) {
        return $TRANSLATIONS[$lang][$key];
    }
    // Fallback to English
    return $TRANSLATIONS['en'][$key] ?? $key;
}

/**
 * Get URL with updated lang param while preserving existing query params
 */
function url_with_lang(string $targetLang): string
{
    $current_url = $_SERVER['REQUEST_URI'];
    $url_parts = parse_url($current_url);
    $query_params = [];

    if (isset($url_parts['query'])) {
        parse_str($url_parts['query'], $query_params);
    }

    $query_params['lang'] = $targetLang;

    $new_query = http_build_query($query_params);
    return $url_parts['path'] . ($new_query ? '?' . $new_query : '');
}
